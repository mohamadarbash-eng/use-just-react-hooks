{"version":3,"sources":["components/Nav/Navigation.js","components/UI/Card.js","hooks/store.js","components/Products/ProductItem.js","containers/Products.js","components/Favorites/FavoriteItem.js","containers/Favorites.js","App.js","hooks/products-store.js","index.js"],"names":["Navigation","props","react_default","a","createElement","className","react_router_dom","to","exact","Card","style","children","globalState","listeners","actions","useStore","shouldListen","arguments","length","undefined","setState","useState","useEffect","push","filter","l","actionIdentifier","payload","newState","Object","objectSpread2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","listener","value","err","return","ProductItem","dispatch","components_UI_Card","marginBottom","isFav","title","description","onClick","id","Products","products","map","prod","components_Products_ProductItem","key","isFavorite","FavoriteItem","Favorites","favoriteProducts","p","content","components_Favorites_FavoriteItem","App","Fragment","components_Nav_Navigation","react_router","path","component","ProductsPage","FavoritesPage","userActions","initialState","TOGGLE_FAV","currentState","productId","prodIndex","findIndex","newFavStatus","updatedProducts","toConsumableArray","configProductsStore","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f4fc964d.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Navigation.css';\n\nconst Navigation = props => {\n  return (\n    <header className=\"main-header\">\n      <nav>\n        <ul>\n          <li>\n            <NavLink to=\"/\" exact>All Products</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/favorites\">Favorites</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\" style={props.style}>{props.children}</div>;\n};\n\nexport default Card;\n","import React, { useState, useEffect } from \"react\";\n\n\nlet globalState = {};\nlet listeners = [];\nlet actions = [];\n\nexport const useStore = (shouldListen = true) => {\n  const setState = useState(globalState)[1];\n\n  const dispatch = (actionIdentifier, payload) => {\n    const newState =  actions[actionIdentifier](globalState, payload);\n    globalState = {...globalState, ...newState};\n\n    for (const listener of listeners) {\n        listener(globalState);\n    }\n  };\n\n  useEffect(() => {\n      if (shouldListen) {\n          listeners.push(setState);\n      }\n\n      return () => {\n          if (shouldListen) {\n              listeners = listeners.filter((l) => l !== setState)\n          }\n      }\n  }, [setState, shouldListen]);\n\n  return [globalState, dispatch];\n};\n\nexport const initStore = (userActions, initialState) => {\n    if (initialState) {\n        globalState = {...globalState, ...initialState};\n    }\n    actions = {...actions, ...userActions};\n};\n","import React, { useContext } from \"react\";\nimport Card from \"../UI/Card\";\nimport \"./ProductItem.css\";\n// import { ProductsContext } from \"../../context/products-context\";\nimport {useStore } from '../../hooks/store';\n\nconst ProductItem = props => {\n //   const toggleFav = useContext(ProductsContext).toggleFav;\n    const dispatch = useStore(false)[1];\n\n    const toggleFavHandler = () => {\n     //   toggleFav(props.id);\n        dispatch('TOGGLE_FAV', props.id);\n    };\n\n    return (\n        <Card style={{marginBottom: \"1rem\"}}>\n            <div className=\"product-item\">\n                <h2 className={props.isFav ? \"is-fav\" : \"\"}>{props.title}</h2>\n                <p>{props.description}</p>\n                <button\n                    className={!props.isFav ? \"button-outline\" : \"\"}\n                    onClick={toggleFavHandler}\n                >\n                    {props.isFav ? \"Un-Favorite\" : \"Favorite\"}\n                </button>\n            </div>\n        </Card>\n    );\n};\n\nexport default ProductItem;\n","import React, { useContext} from 'react';\n\nimport ProductItem from '../components/Products/ProductItem';\nimport './Products.css';\n//import { ProductsContext } from \"../context/products-context\";\nimport { useStore } from '../hooks/store';\n\nconst Products = props => {\n // const productList =  useContext(ProductsContext).products;\n    const {products} = useStore()[0];\n  return (\n    <ul className=\"products-list\">\n      {products.map(prod => (\n        <ProductItem\n          key={prod.id}\n          id={prod.id}\n          title={prod.title}\n          description={prod.description}\n          isFav={prod.isFavorite}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Products;\n","import React from 'react';\n\nimport Card from '../UI/Card';\nimport './FavoriteItem.css';\n\nconst FavoriteItem = props => {\n  return (\n    <Card style={{ marginBottom: '1rem' }}>\n      <div className=\"favorite-item\">\n        <h2>{props.title}</h2>\n        <p>{props.description}</p>\n      </div>\n    </Card>\n  );\n};\n\nexport default FavoriteItem;\n","import React, { useContext } from \"react\";\n\n\nimport FavoriteItem from \"../components/Favorites/FavoriteItem\";\nimport \"./Products.css\";\nimport { useStore } from \"../hooks/store\";\n// import { ProductsContext } from \"../context/products-context\";\n\n\nconst Favorites = props => {\n   // const favoriteProducts = useContext(ProductsContext).products.filter(p => p.isFavorite);\n    const favoriteProducts = useStore()[0].products.filter(p => p.isFavorite);\n    let content = <p className=\"placeholder\">Got no favorites yet!</p>;\n    if (favoriteProducts.length > 0) {\n        content = (\n            <ul className=\"products-list\">\n                {favoriteProducts.map(prod => (\n                    <FavoriteItem\n                        key={prod.id}\n                        id={prod.id}\n                        title={prod.title}\n                        description={prod.description}\n                    />\n                ))}\n            </ul>\n        );\n    }\n    return content;\n};\n\nexport default Favorites;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Navigation from './components/Nav/Navigation';\nimport ProductsPage from './containers/Products';\nimport FavoritesPage from './containers/Favorites';\n\nconst App = props => {\n  return (\n    <React.Fragment>\n      <Navigation />\n      <main>\n        <Route path=\"/\" component={ProductsPage} exact />\n        <Route path=\"/favorites\" component={FavoritesPage} />\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { initStore } from \"./store\";\n\nconst configProductsStore = () => {\n    const actions = {\n        TOGGLE_FAV: (currentState, productId) => {\n            const prodIndex = currentState.products.findIndex(\n                p => p.id === productId\n            );\n            const newFavStatus = !currentState.products[prodIndex].isFavorite;\n            const updatedProducts = [...currentState.products];\n            updatedProducts[prodIndex] = {\n                ...currentState.products[prodIndex],\n                isFavorite: newFavStatus\n            };\n\n            return {products: updatedProducts};\n        }\n    };\n    initStore(actions, {\n        products: [\n            {\n                id: \"p1\",\n                title: \"Red Scarf\",\n                description: \"A pretty red scarf.\",\n                isFavorite: false\n            },\n            {\n                id: \"p2\",\n                title: \"Blue T-Shirt\",\n                description: \"A pretty blue t-shirt.\",\n                isFavorite: false\n            },\n            {\n                id: \"p3\",\n                title: \"Green Trousers\",\n                description: \"A pair of lightly green trousers.\",\n                isFavorite: false\n            },\n            {\n                id: \"p4\",\n                title: \"Orange Hat\",\n                description: \"Street style! An orange hat.\",\n                isFavorite: false\n            }\n        ]\n    });\n};\n\nexport default configProductsStore;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\n// for reference\n//import ProductsProvider from \"./context/products-context\";\nimport configProductsStore from '../src/hooks/products-store';\n\n\nconfigProductsStore();\n\nReactDOM.render(\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}